
```table-of-contents
```

## SSE (Server-Sent Events)

### 특징
- **단방향 통신**: 서버 → 클라이언트만 가능
- **HTTP 기반**: 기존 HTTP 프로토콜 사용
- **자동 재연결**: 연결이 끊어지면 자동으로 재연결 시도
- **텍스트 전용**: 텍스트 데이터만 전송 가능
- **간단한 구현**: EventSource API 사용으로 구현 간단
- **브라우저 지원**: 모든 모던 브라우저에서 지원

### 적합한 용도
- 뉴스피드, 실시간 알림
- 주식/암호화폐 가격 업데이트
- 서버 로그 모니터링
- 진행률 표시 (파일 업로드, 작업 진행 상황)
- 간단한 채팅 (읽기 전용)

## WebSocket

### 특징
- **양방향 통신**: 클라이언트 ↔ 서버 양방향 실시간 통신
- **별도 프로토콜**: ws:// 또는 wss:// 프로토콜 사용
- **바이너리 지원**: 텍스트와 바이너리 데이터 모두 전송 가능
- **낮은 오버헤드**: HTTP 헤더 없이 데이터만 전송
- **수동 관리**: 연결 상태 관리를 개발자가 직접 처리
- **복잡한 구현**: 에러 처리, 재연결 로직 등 추가 구현 필요

### 적합한 용도
- 실시간 채팅
- 온라인 게임
- 협업 도구 (Google Docs 같은 실시간 공동 편집)
- 화상회의/음성통화
- 실시간 트레이딩

## 트래픽이 많은 경우의 대응 방안

### SSE 트래픽 최적화
- **연결 풀링**: 서버 측에서 연결 수 제한 및 관리
- **메시지 배치 처리**: 여러 이벤트를 묶어서 전송
- **압축**: gzip 압축으로 데이터 크기 감소
- **로드 밸런싱**: 여러 서버로 연결 분산
- **CDN 활용**: 정적 콘텐츠는 CDN으로 분리

### WebSocket 트래픽 최적화
- **메시지 압축**: per-message-deflate 확장 사용
- **연결 관리**: 유휴 연결 정리, 하트비트 구현
- **메시지 큐잉**: Redis/RabbitMQ 등으로 메시지 버퍼링
- **수평 확장**: 클러스터링과 로드 밸런서 구성
- **바이너리 프로토콜**: Protocol Buffers, MessagePack 사용

### 공통 최적화 전략
- **Rate Limiting**: 클라이언트별 요청 수 제한
- **Connection Throttling**: 동시 연결 수 제한
- **Monitoring**: 연결 상태와 트래픽 모니터링
- **Caching**: Redis 등으로 자주 사용되는 데이터 캐싱
- **Message Queuing**: 피크 시간 트래픽 분산 처리

## 비교표

| 항목 | SSE | WebSocket |
|------|-----|-----------|
| **통신 방향** | 단방향 (서버→클라이언트) | 양방향 |
| **프로토콜** | HTTP | WebSocket (ws/wss) |
| **구현 복잡도** | 간단 | 복잡 |
| **재연결** | 자동 | 수동 구현 |
| **데이터 타입** | 텍스트만 | 텍스트 + 바이너리 |
| **오버헤드** | 높음 (HTTP 헤더) | 낮음 |
| **적합한 용도** | 알림, 피드, 모니터링 | 채팅, 게임, 협업 |

## 선택 기준
- **단방향 실시간 데이터**가 필요하면 **SSE**
- **양방향 상호작용**이 필요하면 **WebSocket**