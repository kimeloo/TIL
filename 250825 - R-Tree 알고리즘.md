# R-Tree 알고리즘

## 기본 개념
- **다차원 공간 데이터 전용 인덱스 구조**
- **지리적 좌표, 직사각형, 다각형 등을 효율적으로 저장**
- **균형 트리 구조로 동적 삽입/삭제 지원**

## B-Tree와의 주요 차이점
| 특성 | B-Tree | R-Tree |
|------|--------|---------|
| 차원성 | 단일 차원 순서 데이터 | 다차원 공간 데이터 |
| 데이터 정렬 | 선형 순서 필요 | 순서 불필요 |
| 노드 구조 | 키-값 쌍 | 경계 직사각형(MBR) |
| 질의 타입 | 범위 질의 (1차원) | 공간 질의 (다차원) |
| 중복 방문 | 없음 | 가능 (여러 서브트리 탐색) |

## 구조 특징
- **내부 노드**: 자식 노드들의 최소 경계 직사각형(MBR) 저장
- **리프 노드**: 실제 공간 객체의 MBR과 포인터 저장
- **노드당 최소/최대 항목 수 제약 존재**
- **경계 직사각형의 중복 허용**

## 주요 연산

### 검색(Search)
- **루트에서 시작하여 MBR 교차 검사**
- **교차하는 모든 서브트리 탐색**
- **여러 경로 동시 탐색 가능**

### 삽입(Insertion)
- **최소 확장 휴리스틱으로 적절한 리프 노드 선택**
- **노드 오버플로우 시 분할 실행**
- **분할 방식**: 선형 분할(빠름) vs 2차 분할(품질 우수)

### 삭제(Deletion)
- **언더플로우 발생 시 재삽입 또는 병합**
- **트리 균형 유지 필수**

## 주요 응용 분야
- **GIS(지리정보시스템)**: 지도 데이터, 위치 기반 서비스
- **컴퓨터 그래픽스**: 3D 렌더링, 충돌 감지
- **데이터베이스**: PostgreSQL, Oracle Spatial
- **게임 개발**: 공간 파티셔닝, 객체 관리
- **CAD 시스템**: 2D/3D 객체 관리

## 장점
- **다차원 범위 질의 최적화**
- **동적 구조로 실시간 업데이트 지원**
- **대용량 데이터 처리 효율성**
- **가변 데이터 밀도 자동 처리**

## 단점
- **데이터 분포에 따른 성능 편차**
- **높은 중복도에서 성능 저하**
- **구현 복잡성**
- **최악 성능 보장 불가**

## 주요 변형들

### R*-Tree (1990)
- **재삽입 전략으로 성능 개선**
- **복합 최적화 전략**: 면적, 여백, 중복 결합 최적화
- **원본 R-Tree 대비 현저한 성능 향상**

### R+-Tree
- **노드 중복 완전 제거**
- **포인트 질의 최적화**
- **단점**: 중복 항목으로 인한 트리 크기 증가

### 기타 변형들
- **Hilbert R-Tree**: 힐베르트 곡선을 이용한 공간 순서
- **Priority R-Tree**: 우선순위 기반 검색 최적화
- **Bulk-loading R-Trees**: 대량 데이터 일괄 로딩 최적화